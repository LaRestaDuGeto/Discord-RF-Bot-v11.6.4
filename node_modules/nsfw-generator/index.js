const socket = require('socket.io-client')('http://botjs.02.fantasy.ovh:10251/')
const hentaiArray = require('./gifs/hentai.js')

class api {

  constructor(key) {
    
    if(!key) throw new Error("Access key not defined! ( -- code: 1 -- )")
    
    socket.emit("loginVerify", key)
    socket.on("loginVerified", async(data) => {
      
      if(data === true) {
        
        this.logged = true
        
      } else if(data === false) {
        
        throw new Error("Invalid access key! ( -- code: 2 -- )")
        return;

      }
      
    })
    
  }
  
  hentai() {

	if(this.logged = false) return;
	return hentaiArray[Math.floor(Math.random() * hentaiArray.length)]
    
  }

}

module.exports = api